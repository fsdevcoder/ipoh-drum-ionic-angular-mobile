<ion-header>
  <ion-toolbar>
    <ion-title style="padding:0 0 0 10px;">
      <ion-row class="ion-align-items-center">
        <ion-col size="2" style="text-align:left;padding:0;">
          <ion-icon *ngIf="!isLoadingChannelInfo" name="arrow-back" style="font-size:25px;" (click)="closeViewChannelModal()"></ion-icon>
          <ion-spinner *ngIf="isLoadingChannelInfo" name="crescent"></ion-spinner>
        </ion-col>
        <ion-col size="8" style="text-align:left;white-space:normal;word-wrap:break-word;">
          <b>View Channel</b>
        </ion-col>
        <ion-col size="2" *ngIf="!isLoadingChannelInfo">
          <ion-button fill="clear" (click)="openEditChannelModal()">
            <ion-icon name="create"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="isLoadingChannelInfo else finishedLoadingChannelInfo">
    <ion-row>
      <ion-col size="12" style="margin-top:10px;text-align:center !important;">
        <ion-avatar style="height:100px;width:100px;margin:auto;">
          <ion-skeleton-text animated="true"></ion-skeleton-text>
        </ion-avatar>
      </ion-col>
      <ion-col size="12" style="text-align:center;">
        <ion-label>
          <ion-skeleton-text animated="true" style="width:100px;margin:auto;"></ion-skeleton-text>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-card style="padding:5px;">
          <ion-row>
            <ion-col size="12">
              <ion-list>
                <ion-item>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:40%;"></ion-skeleton-text>
                  </ion-label>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:100%;"></ion-skeleton-text>
                  </ion-label>
                </ion-item>
                <ion-item>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:40%;"></ion-skeleton-text>
                  </ion-label>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:100%;"></ion-skeleton-text>
                  </ion-label>
                </ion-item>
                <ion-item>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:40%;"></ion-skeleton-text>
                  </ion-label>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:100%;"></ion-skeleton-text>
                  </ion-label>
                </ion-item>
                <ion-item>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:40%;"></ion-skeleton-text>
                  </ion-label>
                  <ion-label>
                    <ion-skeleton-text animated="true" style="width:100%;"></ion-skeleton-text>
                  </ion-label>
                </ion-item>
              </ion-list>
            </ion-col>
          </ion-row>
        </ion-card>
      </ion-col>
    </ion-row>
  </ng-container>
  <ng-template #finishedLoadingChannelInfo>
    <ion-row>
      <ion-col size="12">
        <ion-row>
          <ion-col size="12" style="margin-top:10px;text-align:center;">
            <img [src]="selectedChannel?.imgpath ? selectedChannel.imgpath : '../../../../assets/images/default_product.png'" style="border-radius:50%;height:100px;width:100px;object-fit:cover;">
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <ion-card style="padding:5px;">
              <ion-row>
                <ion-col size="12">
                  <ion-list style="padding-top:0;padding-bottom:0;">
                    <ion-item>
                      <ion-label position="floating">Name</ion-label>
                      <ion-input [(ngModel)]="selectedChannel.name" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label position="floating">Description</ion-label>
                      <ion-textarea rows="3" cols="20" [(ngModel)]="selectedChannel.desc" disabled></ion-textarea>
                    </ion-item>
                    <ion-item>
                      <ion-label position="floating">Contact Num</ion-label>
                      <ion-input [(ngModel)]="selectedChannel.tel1" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label position="floating">Email</ion-label>
                      <ion-input [(ngModel)]="selectedChannel.email" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-row class="ion-align-items-center">
                        <ion-col size="9" style="white-space:normal;word-wrap:break-word;color:#e6e6e6;">
                          Channel belongs to a company?
                        </ion-col>
                        <ion-col size="3">
                          <ion-toggle [checked]="companyBelongingsFlag" [(ngModel)]="companyBelongingsFlag" disabled color="success"></ion-toggle>
                        </ion-col>
                      </ion-row>
                    </ion-item>
                  </ion-list>
                </ion-col>
              </ion-row>
            </ion-card>
            <ion-row class="ion-align-items-center">
              <ion-col size="12">
                <ion-button expand="full" color="danger" (click)="deleteChannel()">
                  Delete Channel
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ng-template>
</ion-content>
